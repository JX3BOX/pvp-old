(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14cf3178"],{"1a74":function(t,a,e){"use strict";e("cdd8")},"34e0":function(t){t.exports=JSON.parse('{"d":{"eren":{"left":"72px","top":"10px"},"haoqi":{"left":"683px","top":"523px"},"QiuYuBao":{"left":"623px","top":"318px"},"HongLianGang":{"left":"607px","top":"259px"},"JinMenGuan":{"left":"637px","top":"123px"},"QingYunWu":{"left":"733px","top":"144px"},"PanLongWu":{"left":"502px","top":"476px"},"ZhuLuPing":{"left":"573px","top":"391px"},"WuWangCheng":{"left":"562px","top":"430px"},"LongMenZhen":{"left":"395px","top":"117px"},"FeiShaGuan":{"left":"362px","top":"136px"},"LinFengBao":{"left":"149px","top":"65px"},"BuKongGuan":{"left":"392px","top":"368px"},"JiLiuWu":{"left":"432px","top":"431px"},"WoLongPo":{"left":"226px","top":"476px"},"RiYueYa":{"left":"257px","top":"356px"},"ShuangGeBao":{"left":"50px","top":"602px"},"LanCangCheng":{"left":"123px","top":"626px"},"ShenChiLing":{"left":"109px","top":"206px"},"LieRiGang":{"left":"12px","top":"271px"},"JingQiuGu":{"left":"11px","top":"386px"},"FengMingBao":{"left":"23px","top":"494px"},"DaLiShanCheng":{"left":"304px","top":"606px"},"QianYanGuan":{"left":"305px","top":"581px"},"DanXingLin":{"left":"502px","top":"152px"},"FengHuZhai":{"left":"496px","top":"203px"},"ShiWaiPo":{"left":"234px","top":"233px"},"FuFengJun":{"left":"295px","top":"187px"}},"e":{"eren":{"left":"149px","top":"49px"},"haoqi":{"left":"762px","top":"622px"},"QiuYuBao":{"left":"674px","top":"370px"},"HongLianGang":{"left":"698px","top":"284px"},"JinMenGuan":{"left":"684px","top":"212px"},"QingYunWu":{"left":"768px","top":"178px"},"PanLongWu":{"left":"578px","top":"536px"},"ZhuLuPing":{"left":"622px","top":"434px"},"WuWangCheng":{"left":"706px","top":"560px"},"LongMenZhen":{"left":"450px","top":"162px"},"FeiShaGuan":{"left":"370px","top":"142px"},"LinFengBao":{"left":"284px","top":"132px"},"BuKongGuan":{"left":"480px","top":"392px"},"JiLiuWu":{"left":"458px","top":"466px"},"WoLongPo":{"left":"320px","top":"524px"},"RiYueYa":{"left":"332px","top":"428px"},"ShuangGeBao":{"left":"102px","top":"640px"},"LanCangCheng":{"left":"170px","top":"718px"},"ShenChiLing":{"left":"129px","top":"234px"},"LieRiGang":{"left":"88px","top":"348px"},"JingQiuGu":{"left":"132px","top":"444px"},"FengMingBao":{"left":"62px","top":"522px"},"DaLiShanCheng":{"left":"336px","top":"622px"},"QianYanGuan":{"left":"390px","top":"734px"},"DanXingLin":{"left":"516px","top":"172px"},"FengHuZhai":{"left":"578px","top":"240px"},"ShiWaiPo":{"left":"300px","top":"308px"},"FuFengJun":{"left":"326px","top":"222px"}},"c":{"LuoDao":{"left":"724px","top":"326px"},"JinShuiZhen":{"left":"730px","top":"150px"},"BaLingXian":{"left":"644px","top":"486px"},"NanPingShan":{"left":"670px","top":"560px"},"LongMenHuangMo":{"left":"428px","top":"124px"},"KunLun":{"left":"252px","top":"142px"},"QuTangXia":{"left":"522px","top":"438px"},"BaiLongKou":{"left":"380px","top":"476px"},"WuLiangShan":{"left":"216px","top":"636px"},"RongTianLing":{"left":"170px","top":"290px"},"HeiLongZhao":{"left":"80px","top":"444px"},"CangShanErHai":{"left":"466px","top":"654px"},"FengHuaGuZhanLuan":{"left":"526px","top":"204px"},"MaWeiYi":{"left":"278px","top":"238px"}},"b":{"KunLun":{"RongTianLing":{"left":"192px","top":"212px","transform":"rotate(200deg)"},"MaWeiYi":{"left":"298px","top":"204px","transform":"rotate(170deg)"},"LongMenHuangMo":{"left":"178px","top":"110px","transform":"rotate(110deg)"}},"MaWeiYi":{"KunLun":{"left":"300px","top":"184px","transform":"rotate(320deg)"},"RongTianLing":{"left":"218px","top":"280px","transform":"rotate(250deg)"},"LongMenHuangMo":{"left":"380px","top":"182px","transform":"rotate(50deg)"},"BaiLongKou":{"left":"312px","top":"346px","transform":"rotate(180deg)"}},"LongMenHuangMo":{"KunLun":{"left":"378px","top":"108px","transform":"rotate(280deg)"},"MaWeiYi":{"left":"356px","top":"183px","transform":"rotate(220deg)"},"FengHuaGuZhanLuan":{"left":"504px","top":"144px","transform":"rotate(120deg)"}},"FengHuaGuZhanLuan":{"LongMenHuangMo":{"left":"488px","top":"132px","transform":"rotate(300deg)"},"JinShuiZhen":{"left":"638px","top":"140px","transform":"rotate(90deg)"}},"JinShuiZhen":{"LuoDao":{"left":"704px","top":"246px","transform":"rotate(200deg)"},"FengHuaGuZhanLuan":{"left":"618px","top":"142px","transform":"rotate(270deg)"}},"LuoDao":{"JinShuiZhen":{"left":"666px","top":"228px","transform":"rotate(7deg)"},"BaLingXian":{"left":"644px","top":"382px","transform":"rotate(210deg)"},"NanPingShan":{"left":"726px","top":"414px","transform":"rotate(180deg)"}},"BaLingXian":{"LuoDao":{"left":"642px","top":"368px","transform":"rotate(30deg)"},"NanPingShan":{"left":"674px","top":"512px","transform":"rotate(120deg)"},"CangShanErHai":{"left":"520px","top":"564px","transform":"rotate(200deg)"},"QuTangXia":{"left":"556px","top":"454px","transform":"rotate(290deg)"}},"QuTangXia":{"BaLingXian":{"left":"568px","top":"466px","transform":"rotate(120deg)"},"BaiLongKou":{"left":"400px","top":"434px","transform":"rotate(270deg)"}},"CangShanErHai":{"BaLingXian":{"left":"536px","top":"550px","transform":"rotate(40deg)"},"NanPingShan":{"left":"596px","top":"616px","transform":"rotate(70deg)"},"WuLiangShan":{"left":"282px","top":"652px","transform":"rotate(270deg)"}},"WuLiangShan":{"HeiLongZhao":{"left":"114px","top":"598px","transform":"rotate(0deg)"},"BaiLongKou":{"left":"230px","top":"588px","transform":"rotate(40deg)"},"CangShanErHai":{"left":"300px","top":"652px","transform":"rotate(100deg)"}},"BaiLongKou":{"WuLiangShan":{"left":"240px","top":"610px","transform":"rotate(200deg)"},"QuTangXia":{"left":"416px","top":"438px","transform":"rotate(70deg)"},"MaWeiYi":{"left":"316px","top":"336px","transform":"rotate(340deg)"}},"HeiLongZhao":{"WuLiangShan":{"left":"114px","top":"600px","transform":"rotate(180deg)"},"RongTianLing":{"left":"162px","top":"390px","transform":"rotate(10deg)"}},"RongTianLing":{"KunLun":{"left":"200px","top":"208px","transform":"rotate(30deg)"},"MaWeiYi":{"left":"244px","top":"236px","transform":"rotate(90deg)"},"HeiLongZhao":{"left":"98px","top":"384px","transform":"rotate(190deg)"}},"NanPingShan":{"BaLingXian":{"left":"644px","top":"536px","transform":"rotate(300deg)"},"LuoDao":{"left":"730px","top":"402px","transform":"rotate(0deg)"},"CangShanErHai":{"left":"576px","top":"616px","transform":"rotate(240deg)"}}},"a":{"QiuYuBao":{"HongLianGang":{"left":"678px","top":"318px","transform":"rotate(10deg)"}},"HongLianGang":{"QiuYuBao":{"left":"654px","top":"332px","transform":"rotate(180deg)"}},"JinMenGuan":{"QingYunWu":{"left":"758px","top":"202px","transform":"rotate(70deg)"}},"QingYunWu":{"JinMenGuan":{"left":"750px","top":"202px","transform":"rotate(250deg)"}},"PanLongWu":{"ZhuLuPing":{"left":"604px","top":"470px","transform":"rotate(30deg)"}},"ZhuLuPing":{"PanLongWu":{"left":"600px","top":"490px","transform":"rotate(210deg)"}},"LongMenZhen":{"FeiShaGuan":{"left":"428px","top":"164px","transform":"rotate(240deg)"}},"FeiShaGuan":{"LongMenZhen":{"left":"440px","top":"142px","transform":"rotate(90deg)"}},"BuKongGuan":{"JiLiuWu":{"left":"438px","top":"482px","transform":"rotate(120deg)"}},"JiLiuWu":{"BuKongGuan":{"left":"464px","top":"426px","transform":"rotate(320deg)"}},"WoLongPo":{"RiYueYa":{"left":"312px","top":"466px","transform":"rotate(40deg)"}},"RiYueYa":{"WoLongPo":{"left":"312px","top":"480px","transform":"rotate(200deg)"}},"ShuangGeBao":{"LanCangCheng":{"left":"150px","top":"688px","transform":"rotate(100deg)"}},"LanCangCheng":{"ShuangGeBao":{"left":"136px","top":"688px","transform":"rotate(290deg)"}},"ShenChiLing":{"LieRiGang":{"left":"126px","top":"268px","transform":"rotate(210deg)"}},"LieRiGang":{"ShenChiLing":{"left":"126px","top":"266px","transform":"rotate(30deg)"}},"JingQiuGu":{"FengMingBao":{"left":"124px","top":"476px","transform":"rotate(30deg)"}},"FengMingBao":{"JingQiuGu":{"left":"124px","top":"480px","transform":"rotate(30deg)"}},"DaLiShanCheng":{"QianYanGuan":{"left":"348px","top":"670px","transform":"rotate(180deg)"}},"QianYanGuan":{"DaLiShanCheng":{"left":"348px","top":"662px","transform":"rotate(0deg)"}},"DanXingLin":{"FengHuZhai":{"left":"556px","top":"214px","transform":"rotate(120deg)"}},"FengHuZhai":{"DanXingLin":{"left":"558px","top":"218px","transform":"rotate(320deg)"}},"ShiWaiPo":{"FuFengJun":{"left":"338px","top":"258px","transform":"rotate(30deg)"}},"FuFengJun":{"ShiWaiPo":{"left":"322px","top":"264px","transform":"rotate(210deg)"}}}}')},4514:function(t,a,e){},6869:function(t,a,e){"use strict";e("4514")},b602:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"v-pxp-sandbox"},[e("h1",[t._v("阵营沙盘")]),e("sandboxSearch",{attrs:{servers:t.servers},on:{sandboxChange:t.onSandbox}}),e("div",{staticClass:"m-sandbox-map"},[e("sandboxMap",{attrs:{maps:t.sandMaps,camp:t.camp,route:t.route},on:{mapClick:t.mapClick}}),t.showLog?e("sandboxLog",{attrs:{item:t.itemLog}}):t._e()],1),t.showLog?e("div",{staticClass:"m-mark",on:{click:t.closeLog}}):t._e()],1)},o=[];e("b64b"),e("a4d3"),e("4de4"),e("d3b7"),e("e439"),e("159b"),e("dbb4");function p(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function i(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function s(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?i(Object(e),!0).forEach((function(a){p(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-sandbox-search"},[t._l(t.camps,(function(a,n){return e("span",{key:n,staticClass:"u-camp",on:{click:function(a){return t.changeCamp(n)}}},[e("b",{class:n==t.camp?"active":""}),e("span",[t._v(t._s(a))])])})),e("el-switch",{staticClass:"u-route",attrs:{"inactive-text":"进攻路线"},model:{value:t.route,callback:function(a){t.route=a},expression:"route"}}),e("el-select",{staticClass:"u-server",model:{value:t.id,callback:function(a){t.id=a},expression:"id"}},t._l(t.servers,(function(t){return e("el-option",{key:t.id,attrs:{label:t.server,value:t.id}})})),1)],2)},u=[],c={name:"search",props:["servers"],data:function(){return{id:1,camp:"haoqi",camps:{haoqi:"浩气盟",eren:"恶人谷"},route:!0}},computed:{serverData:function(){return{id:this.id,route:this.route,camp:this.camp}}},watch:{serverData:{handler:function(t){this.toEmit()},deep:!0}},methods:{changeCamp:function(t){this.camp=t},toEmit:function(){this.$emit("sandboxChange",this.serverData)}},created:function(){this.toEmit()},mounted:function(){}},l=c,g=(e("1a74"),e("2877")),f=Object(g["a"])(l,r,u,!1,null,null,null),x=f.exports,m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-sandboxMap"},[e("div",{staticClass:"u-mapLine"}),t._l(t.camps,(function(a){return e("div",{key:a.key},[e("img",{staticClass:"u-pic",style:t.positionStyle(a.name,"pic"),attrs:{src:t.imgPath(a.id,a.name,"pic")}}),e("img",{staticClass:"u-icon",staticStyle:{cursor:"default"},style:t.positionStyle(a.name,"icon"),attrs:{src:t.imgPath(a.key,a.name,"camp")}}),e("div",{staticClass:"u-name",style:t.positionStyle(a.name,"name")},[t._v(t._s(a.names))])])})),t.maps.list&&t.maps.list.length>0?t._l(t.maps.list,(function(a){return e("div",{key:a.id},[e("img",{staticClass:"u-pic",style:t.positionStyle(a.name_pinyin,"pic"),attrs:{src:t.imgPath(a.id,a.camp,"pic")}}),t._l(t.maps.list,(function(a,n){return e("el-popover",{key:n,staticClass:"u-icon",style:t.positionStyle(a.name_pinyin,"icon"),attrs:{placement:"top-start",width:"240",trigger:"hover"}},[e("div",{staticClass:"u-box"},[e("img",{attrs:{src:t.imgPath(a.name_pinyin,a.camp,"camp")}}),e("div",{staticClass:"u-txt"},[e("div",{staticClass:"u-line"},[e("span",{staticClass:"u-camp"},[t._v(t._s(a.name))])]),e("div",{staticClass:"u-line"},[e("span",[t._v("占领势力：")]),e("span",{class:a.camp},[t._v("【"+t._s("haoqi"==a.camp?"浩气盟":"恶人谷")+"】")])]),e("div",{staticClass:"u-line u-gang"},[e("span",[t._v("占领帮会：")]),e("span",{class:a.camp},[t._v("- "+t._s(a.gang)+" -")])])]),e("div",{staticClass:"u-log",on:{click:function(e){return t.showLog(a)}}},[e("i",{staticClass:"el-icon-date"})])]),e("div",{attrs:{slot:"reference"},on:{click:function(e){return t.showLog(a)}},slot:"reference"},[e("img",{attrs:{src:t.imgPath(a.id,a.camp,"icon")}})])])})),e("div",{staticClass:"u-name",style:t.positionStyle(a.name_pinyin,"name")},[t._v(t._s(a.name))])],2)})):t._e(),t.maps.detail&&t.maps.detail.length>0?t._l(t.maps.detail,(function(a){return e("div",{key:a.id,staticClass:"detail"},[e("img",{staticClass:"u-camps",style:t.positionStyle(a.name_pinyin,"camp"),attrs:{src:t.imgPath(a.name_pinyin,t.camp,"camp")}}),t.route?[t._l(a.castles,(function(a){return e("div",{key:a.id},t._l(a.attacks,(function(n){return e("img",{key:n.id,staticClass:"u-attacks",style:t.positionStyle(a.name_pinyin,"arr",n.name_pinyin),attrs:{src:t.imgPath(n,t.camp,"arr")}})})),0)})),a.attacks&&0!==a.attacks.length?t._l(a.attacks,(function(n){return e("div",{key:n.id},[e("img",{staticClass:"u-attacks",style:t.positionStyle(a.name_pinyin,"attacks",n.name_pinyin),attrs:{src:t.imgPath(n,t.camp,"attacks")}})])})):t._e()]:t._e()],2)})):t._e()],2)},d=[],h=e("65c2"),L=e("34e0"),v={name:"maps",props:["maps","camp","route"],data:function(){return{camps:[{id:27,name:"eren",names:"恶人谷",key:"erengu"},{id:25,name:"haoqi",names:"浩气盟",key:"haoqimeng"}]}},methods:{imgPath:function(t,a,e){switch(e){case"pic":return"haoqi"==a?h["__imgPath"]+"image/camp/h"+t+".png":h["__imgPath"]+"image/camp/e"+t+".png";case"camp":return h["__imgPath"]+"image/camp/"+t+".png";case"icon":return"haoqi"==a?h["__imgPath"]+"image/camp/h"+this.icon(t)+".png":h["__imgPath"]+"image/camp/e"+this.icon(t)+".png";case"arr":case"attacks":return"haoqi"==a?h["__imgPath"]+"image/camp/charr.png":h["__imgPath"]+"image/camp/cearr.png"}},positionStyle:function(t,a,e){switch(a){case"pic":return L["d"][t];case"camp":return L["c"][t];case"icon":return L["e"][t];case"name":var n=L["e"][t],o=n.left,p=n.top;return"LinFengBao"!=t&&"WuWangCheng"!=t||(o=this.pixel(o,15)),"eren"!=t&&"haoqi"!=t||(o=this.pixel(o,40)),o=this.pixel(o,45),p=this.pixel(p,-10),{left:o,top:p};case"attacks":return L["b"][t][e];case"arr":return L["a"][t][e]}},icon:function(t){switch(t){case 301:return"_lingfengbao";case 221:return"_wuwangcheng";case 231:case 1031:case 92:case 1002:return"02";case 1392:case 212:case 1012:case 1001:return"03";case 131:case 1042:case 1051:case 351:return"04";case 211:case 1531:return"05";default:return"01"}},pixel:function(t,a){var e=t.substr(0,t.length-2);return t=+e+a,t+"px"},showLog:function(t){t.img=h["__imgPath"]+"image/camp/"+t.name_pinyin+".png",this.$emit("mapClick",t)}}},b=v,_=Object(g["a"])(b,m,d,!1,null,null,null),C=_.exports,S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-sandbox-log"},[e("div",{staticClass:"m-log-box"},[e("div",{staticClass:"m-box-info"},[e("img",{staticClass:"u-img",attrs:{src:t.item.img}}),e("div",{staticClass:"u-box"},[e("span",{staticClass:"u-title"},[t._v(t._s(t.item.name))]),e("span",{staticClass:"u-desc"},[t._v(t._s(t.item.desc||"暂无介绍"))]),e("a",{staticClass:"u-baike",attrs:{href:t.item.link,target:"_blank"}},[t._v("查看百科 »")])])]),t.item.list.length>0?e("ul",{staticClass:"u-cont",staticStyle:{overflow:"auto"}},t._l(t.item.list,(function(a,n){return e("li",{key:n},[e("div",{staticClass:"u-line"},[e("span",{staticClass:"u-time"},[t._v(t._s(a.date))])]),e("div",{staticClass:"u-line"},[e("span",[t._v("占领势力：")]),e("span",{class:a.camp},[t._v("["+t._s("haoqi"==a.camp?"浩气盟":"恶人谷")+"]")])]),e("div",{staticClass:"u-line"},[e("span",[t._v("占领帮会：")]),e("span",{class:a.camp},[t._v(t._s(a.gang))])])])})),0):e("div",{staticClass:"u-cont"},[e("div",{staticClass:"u-nonedata"},[t._v("暂无数据")])])])])},y=[],P={name:"log",props:["item"],data:function(){return{}},methods:{}},k=P,M=Object(g["a"])(k,S,y,!1,null,null,null),W=M.exports,G=(e("99af"),e("41cb"));function w(){return Object(G["b"])().get("/api/sandmaps").then((function(t){return t.data}))}function O(t){return Object(G["b"])().get("/api/sandmap",{params:t}).then((function(t){return t.data}))}function B(t){return Object(G["b"])().get("/api/sandmap/detail",{params:t}).then((function(t){return t.data.data}))}function F(t,a){return Object(G["b"])().get("/api/sandmap/".concat(t,"/castle/").concat(a,"/logs")).then((function(t){return t.data}))}var H={name:"Sandbox",components:{sandboxSearch:x,sandboxMap:C,sandboxLog:W},data:function(){return{sandMaps:"",servers:[],itemLog:"",id:1,camp:"haoqi",route:!0,showLog:!1}},computed:{parms:function(){return{sandmap_id:this.id,camp:this.camp}}},methods:{onSandbox:function(t){var a=t.id,e=t.camp,n=t.route;this.id=a,this.camp=e,this.route=n,this.getSandbox()},getSandbox:function(){var t=this;O(this.parms).then((function(a){t.id=a.data.sandmap.id,t.sandMaps=s(s({},t.sandMaps),{},{list:a.data.sandmap.castles})})),B(this.parms).then((function(a){t.id=a.sandmap.id,t.sandMaps=s(s({},t.sandMaps),{},{detail:a.sandmap.maps})}))},getServers:function(){var t=this;w().then((function(a){a.data.sandmaps.forEach((function(a){t.servers.push({id:a.id,server:a.server})}))}))},mapClick:function(t){var a=this;F(this.id,t.id).then((function(e){t.list=e.data.data,a.itemLog=t,a.showLog=!0}))},closeLog:function(){this.showLog=!1}},created:function(){this.getServers(),this.getSandbox()}},Y=H,Z=(e("6869"),Object(g["a"])(Y,n,o,!1,null,null,null));a["default"]=Z.exports},b64b:function(t,a,e){var n=e("23e7"),o=e("7b0b"),p=e("df75"),i=e("d039"),s=i((function(){p(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return p(o(t))}})},cdd8:function(t,a,e){},dbb4:function(t,a,e){var n=e("23e7"),o=e("83ab"),p=e("56ef"),i=e("fc6a"),s=e("06cf"),r=e("8418");n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var a,e,n=i(t),o=s.f,u=p(n),c={},l=0;while(u.length>l)e=o(n,a=u[l++]),void 0!==e&&r(c,a,e);return c}})},e439:function(t,a,e){var n=e("23e7"),o=e("d039"),p=e("fc6a"),i=e("06cf").f,s=e("83ab"),r=o((function(){i(1)})),u=!s||r;n({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,a){return i(p(t),a)}})}}]);
//# sourceMappingURL=chunk-14cf3178.6dd65ae7.js.map